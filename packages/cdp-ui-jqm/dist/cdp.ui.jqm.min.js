/*!
 * cdp.ui.jqm.js 2.1.0
 *
 * Date: 2018-04-23T06:45:15.827Z
 */
!function(e,t){"function"==typeof define&&define.amd?define(["cdp.framework.jqm","cdp.tools","cdp.ui.listview"],function(){return t(e.CDP||(e.CDP={}))}):t(e.CDP||(e.CDP={}))}(this,function(e){var t,n,i,a,o,r,s,l,c,p,v,f,d,h,g,b,u;e.UI=e.UI||{},t=e||(e={}),n=t.UI||(t.UI={}),i=t.Config,a=t.Framework,o=function(){function o(){}return o.initialize=function(e){var t=$.extend({},{platform:"auto",reserveScrollbarRegion:!0},e);return"auto"===t.platform?o.detectUIPlatform(t.reserveScrollbarRegion):o.setCurrentUIPlatform(t.platform)?t.platform:void console.warn("[CDP.UI.Theme] setCurrentUIPlatform(), failed. platform: "+t.platform)},o.getCurrentUIPlatform=function(){for(var e=$("html"),t=0,n=o.s_platforms.length;t<n;t++)if(e.hasClass("ui-platform-"+o.s_platforms[t]))return o.s_platforms[t];return null},o.setCurrentUIPlatform=function(e){if(null==e||0<=o.s_platforms.indexOf(e)){var t=$("html");return o.s_platforms.forEach(function(e){t.removeClass("ui-platform-"+e)}),e&&t.addClass("ui-platform-"+e),!0}return!1},o.detectUIPlatform=function(e){void 0===e&&(e=!0);var t="";return a.Platform.iOS?($("html").addClass("ui-platform-ios"),t="ios"):($("html").addClass("ui-platform-android"),t="android"),i.DEBUG&&e&&!a.Platform.Mobile&&$("body").css("overflow-y","scroll"),t},o.registerUIPlatforms=function(e){e&&(o.s_platforms=e)},o.registerPageTransitionMap=function(e){e&&(o.s_pageTransitionMap=e)},o.registerDialogTransitionMap=function(e){e&&(o.s_dialogTransitionMap=e)},o.queryPageTransition=function(e){var t=o.s_pageTransitionMap[e];return t?t[o.getCurrentUIPlatform()]||t.fallback:e},o.queryDialogTransition=function(e){var t=o.s_dialogTransitionMap[e];return t?t[o.getCurrentUIPlatform()]||t.fallback:e},o.s_platforms=["ios","android"],o.s_pageTransitionMap={"platform-default":{ios:"slide",android:"floatup",fallback:"slide"},"platform-alternative":{ios:"slideup",android:"floatup",fallback:"slideup"}},o.s_dialogTransitionMap={"platform-default":{ios:"popzoom",android:"crosszoom",fallback:"none"}},o}(),n.Theme=o,a.waitForInitialize().done(function(){var n;n=$.mobile.changePage.bind($.mobile),$.mobile.changePage=function(e,t){_.isString(e)&&t&&t.transition&&(t.transition=o.queryPageTransition(t.transition)),n(e,t)}}),r=e||(e={}),s=r.UI||(r.UI={}),l=function(){function e(){}return e.registerDomExtension=function(e){this.s_domExtensions.push(e)},e.applyDomExtension=function(t,n){this.s_domExtensions.forEach(function(e){e(t,n)})},e.s_domExtensions=[],e}(),s.ExtensionManager=l,c=e||(e={}),p=c.UI||(c.UI={}),v="[CDP.UI.Toast] ",function(h){var g,e,_,t;h.LENGTH_SHORT=1500,h.LENGTH_LONG=4e3,(e=g=h.OffsetX||(h.OffsetX={}))[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.CENTER=4]="CENTER",(t=_=h.OffsetY||(h.OffsetY={}))[t.TOP=16]="TOP",t[t.BOTTOM=32]="BOTTOM",t[t.CENTER=64]="CENTER";var b=function(){function e(){}return e.prototype.getClass=function(){return"ui-loader ui-overlay-shadow ui-corner-all"},e.prototype.getStyle=function(){return{padding:"7px 25px 7px 25px",display:"block","background-color":"#1d1d1d","border-color":"#1b1b1b",color:"#fff","text-shadow":"0 1px 0 #111","font-weight":"bold",opacity:.8}},e.prototype.getOffsetPoint=function(){return g.CENTER|_.BOTTOM},e.prototype.getOffsetX=function(){return 0},e.prototype.getOffsetY=function(){return-75},e}();h.StyleBuilderDefault=b,h.show=function(e,t,n){void 0===t&&(t=h.LENGTH_SHORT);var o=$.mobile,i=n||new b,a=!!i.getStyle(),r=e.replace(/\n/g,"<br/>"),s=$("<div>"+r+"</div>").addClass(i.getClass());a&&s.css(i.getStyle()),s.css({top:0,left:0}).appendTo(o.pageContainer);var l,c,p=i.getOffsetPoint(),u=$(window),f=s.width()+parseInt(s.css("padding-left"),10)+parseInt(s.css("padding-right"),10),d=s.height()+parseInt(s.css("padding-top"),10)+parseInt(s.css("padding-bottom"),10);switch(15&p){case g.LEFT:l=0+i.getOffsetX();break;case g.RIGHT:l=u.width()-f+i.getOffsetX();break;case g.CENTER:l=u.width()/2-f/2+i.getOffsetX();break;default:console.warn(v+"warn. unknown offsetPoint:"+(15&p)),l=u.width()/2-f/2+i.getOffsetX()}switch(240&p){case _.TOP:c=0+i.getOffsetY();break;case _.BOTTOM:c=u.height()-d+i.getOffsetY();break;case _.CENTER:c=u.height()/2-d/2+i.getOffsetY();break;default:console.warn(v+"warn. unknown offsetPoint:"+(240&p)),c=u.height()/2-d/2+i.getOffsetY()}s.css({top:c,left:l}).delay(t).fadeOut(400,function(){$(this).remove()})}}(p.Toast||(p.Toast={})),f=e||(e={}),d=f.UI||(f.UI={}),h=f.Promise,g=f.Framework,b="[CDP.UI.Dialog] ",u=function(){function u(e,t){this._template=null,this._settings=null,this._$dialog=null,u.initCommonCondition(),this._settings=$.extend({},u.s_defaultOptions,t),this._template=f.Tools.Template.getJST(e,this._settings.src)}return u.prototype.show=function(e){var n=this,o=$(document),i=$("body"),a=i.pagecontainer("getActivePage"),t={overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"},r={overflow:i.css("overflow"),"overflow-x":i.css("overflow-x"),"overflow-y":i.css("overflow-y")},s=i.scrollTop(),l={overflow:a.css("overflow"),"overflow-x":a.css("overflow-x"),"overflow-y":a.css("overflow-y")},c="scroll touchmove mousemove MSPointerMove",p=function(e){"deny"===n._settings.scrollEvent?e.preventDefault():"adjust"===n._settings.scrollEvent&&i.scrollTop(s)};return null!=e&&(this._settings=$.extend({},this._settings,e)),this._settings.afterclose&&!this._settings.forceOverwriteAfterClose&&(console.warn(b+"cannot accept 'afterclose' option. please instead using 'popupafterclose' event."),delete this._settings.afterclose),this._settings._titleState=this._settings.title?"ui-has-title":"ui-no-title",this._$dialog=$(this._template(this._settings)),this._$dialog.localize(),i.append(this._$dialog),this.resolveTheme(),this._$dialog.on("popupcreate",function(e){"allow"!==n._settings.scrollEvent&&o.on(c,p),i.css(t),a.css(t),u.register(n)}).enhanceWithin(),null!=this._settings.domExtensionOptions&&d.ExtensionManager.applyDomExtension(this._$dialog,this._settings.domExtensionOptions),this.onBeforeShow().done(function(){n._$dialog.popup($.extend({},{positionTo:"window",afterclose:function(e,t){a.css(l),i.css(r),"allow"!==n._settings.scrollEvent&&o.off(c,p),u.register(null),n._$dialog.remove(),n._$dialog=null}},n._settings)).popup("open").on(n._settings.event,function(e){var t=$(e.target).attr("data-auto-close");null==t&&(t=n._settings.defaultAutoClose?"true":"false"),"false"!==t&&(n.close(),e.preventDefault())})}).fail(function(e){console.error(b+"Dialog.show() failed."),n._$dialog&&n._$dialog.trigger("error",e)}),this._$dialog},u.prototype.close=function(){this._$dialog&&this._$dialog.popup("close")},Object.defineProperty(u.prototype,"$el",{get:function(){return this._$dialog},enumerable:!0,configurable:!0}),u.prototype.onBeforeShow=function(){return h.resolve()},u.prototype.resolveTheme=function(){var e,t=function(){return $(".ui-page-active").jqmData("theme")};this._settings.theme||this._$dialog.jqmData("theme")||(this._settings.theme=e=t()),this._settings.overlayTheme||this._$dialog.jqmData("overlay-theme")||(this._settings.overlayTheme=e||t()),this._settings.transition=d.Theme.queryDialogTransition(this._settings.transition)},u.setDefaultOptions=function(e){u.initCommonCondition(),$.extend(!0,u.s_defaultOptions,e)},u.register=function(e){null!=e&&null!=u.s_activeDialog&&console.warn(b+"new dialog proc is called in the past dialog's one. use setTimeout() for post process."),u.s_activeDialog=e},u.initCommonCondition=function(){g.isInitialized()?null==u.s_oldBackKeyHandler&&(u.s_oldBackKeyHandler=f.setBackButtonHandler(null),f.setBackButtonHandler(u.customBackKeyHandler),u.s_defaultOptions={idPositive:"dlg-btn-positive",idNegative:"dlg-btn-negative",event:g.getDefaultClickEvent(),dismissible:!1,defaultAutoClose:!1,transition:"platform-default",labelPositive:"OK",labelNegative:"Cancel",backKey:"close",scrollEvent:"deny",domExtensionOptions:{}}):console.warn(b+"initCommonCondition() should be called after Framework.initialized.")},u.customBackKeyHandler=function(e){null==u.s_activeDialog?u.s_oldBackKeyHandler(e):"close"===u.s_activeDialog._settings.backKey?u.s_activeDialog.close():"function"==typeof u.s_activeDialog._settings.backKey&&u.s_activeDialog._settings.backKey(e)},u.s_activeDialog=null,u.s_oldBackKeyHandler=null,u.s_defaultOptions=null,u}(),d.Dialog=u;var m,y,T,w,E,P,x,I,C,S,O,H,k,B,M,D,R,V,U,A,L,N,j,F,K,z,X,G,Y,q,W,J,Q,Z,ee,te,ne,oe,ie,ae,re,se,le,ce,pe,ue=this&&this.__extends||(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});return function(n){n.alert=function(e,t){return new n.Dialog('\n            <script type="text/template">\n                <section class="ui-modal" data-role="popup" data-corners="false">\n                    <div class="ui-content">\n                        <h1 class="ui-title {{_titleState}}">{{title}}</h1>\n                        <p class="ui-message">{{message}}</p>\n                    </div>\n                    <div class="ui-modal-footer ui-grid-solo">\n                        <button id="{{idPositive}}" class="ui-btn ui-block-a ui-text-emphasis" data-auto-close="true">{{labelPositive}}</button>\n                    </div>\n                </section>\n            <\/script>\n        ',$.extend({},{src:null,message:e},t)).show()},n.confirm=function(e,t){return new n.Dialog('\n            <script type="text/template">\n                <section class="ui-modal" data-role="popup" data-corners="false">\n                    <div class="ui-content">\n                        <h1 class="ui-title {{_titleState}}">{{title}}</h1>\n                        <p class="ui-message">{{message}}</p>\n                    </div>\n                    <div class="ui-modal-footer ui-grid-a">\n                        <button id="{{idNegative}}" class="ui-btn ui-block-a" data-auto-close="true">{{labelNegative}}</button>\n                        <button id="{{idPositive}}" class="ui-btn ui-block-b ui-text-emphasis" data-auto-close="true">{{labelPositive}}</button>\n                    </div>\n                </section>\n            <\/script>\n        ',$.extend({},{src:null,message:e},t)).show()};var o=function(o){function e(e,t){var n=o.call(this,e,t)||this;return n._eventOK=t.eventOK||"promptok",n}return ue(e,o),e.prototype.onBeforeShow=function(){var n=this,t=function(e){var t=n.$el.find("#_ui-prompt").val();n.$el.trigger(n._eventOK,t),n.close(),e.preventDefault()};return this.$el.on("vclick",".command-prompt-ok ",function(e){t(e)}).on("keydown","#_ui-prompt",function(e){13===e.keyCode&&t(e)}),o.prototype.onBeforeShow.call(this)},e}(n.Dialog);n.prompt=function(e,t){return new o('\n            <script type="text/template">\n                <section class="ui-modal" data-role="popup" data-corners="false">\n                    <div class="ui-content">\n                        <h1 class="ui-title {{_titleState}}">{{title}}</h1>\n                        <p class="ui-message">{{message}}</p>\n                        <label for="_ui-prompt" class="ui-hidden-accessible"></label>\n                        <input type="text" name="_ui-prompt" id="_ui-prompt">\n                    </div>\n                    <div class="ui-modal-footer ui-grid-a">\n                        <button id="{{idNegative}}" class="ui-btn ui-block-a" data-auto-close="true">{{labelNegative}}</button>\n                        <button id="{{idPositive}}" class="command-prompt-ok ui-btn ui-block-b ui-text-emphasis" data-auto-close="false">{{labelPositive}}</button>\n                    </div>\n                </section>\n            <\/script>\n        ',$.extend({},{src:null,message:e},t)).show()}}((y=e||(e={})).UI||(y.UI={})),T=e||(e={}),w=T.UI||(T.UI={}),E=T.Framework.Router,P=T.Framework.View,x=T.Tools.Template,I=function(o){function e(e,t){var n=o.call(this,t=$.extend({el:e.$page.find("[data-role='header']"),backCommandSelector:".command-back",backCommandKind:"pageback"},t))||this;return n._owner=e,(n._options=t).baseTemplate?n._template=t.baseTemplate:n._template=x.getJST("\n                    <script type='text/template'>\n                        <header class='ui-header-base ui-body-{{theme}}'>\n                            <div class='ui-fixed-back-indicator'></div>\n                        </header>\n                    <\/script>\n                "),n.setElement(n.$el,!0),n}return ue(e,o),e.prototype.create=function(){return this.createHeaderBase()},e.prototype.activate=function(){return this.showIndicator()},e.prototype.inactivate=function(){return this.hideIndicator()},e.prototype.release=function(){return this.releaseHeaderBase()},e.prototype.createHeaderBase=function(){return"fixed"===this._owner.$header.jqmData("position")&&(null==e.s_$headerBase&&(e.s_$headerBase=$(this._template({theme:this._owner.$page.jqmData("theme")}))),e.s_refCount++,e.s_$headerBase.appendTo($(document.body))),0<this.$el.find(".ui-back-indicator").length&&(this._hasBackIndicator=!0),e.s_$headerBase},e.prototype.showIndicator=function(){return null!=e.s_$headerBase&&this._hasBackIndicator&&e.s_$headerBase.find(".ui-fixed-back-indicator").addClass("show"),e.s_$headerBase},e.prototype.hideIndicator=function(){return null!=e.s_$headerBase&&e.s_$headerBase.find(".ui-fixed-back-indicator").removeClass("show"),e.s_$headerBase},e.prototype.releaseHeaderBase=function(){return"fixed"===this._owner.$header.jqmData("position")&&null!=e.s_$headerBase&&0==--e.s_refCount&&(e.s_$headerBase.remove(),e.s_$headerBase=null),e.s_$headerBase},e.prototype.events=function(){var e={};return this._options&&(e["vclick "+this._options.backCommandSelector]=this.onCommandBack),e},e.prototype.onCommandBack=function(e){e.preventDefault();var t=!1;this._owner&&(t=this._owner.onCommand(e,this._options.backCommandKind)),t||E.back()},e.s_refCount=0,e}(P),w.BaseHeaderView=I,C=e||(e={}),S=C.UI||(C.UI={}),O=function(i){function e(e,t,n){var o=i.call(this,e,t,n=$.extend({baseHeader:S.BaseHeaderView,backCommandHandler:"onPageBack",backCommandKind:"pageback",domExtensionOptions:{}},n))||this;return o._options=n,o}return ue(e,i),e.prototype.onPageBeforeCreate=function(e){this._options.baseHeader&&(this._baseHeader=new this._options.baseHeader(this,this._options),this._baseHeader.create()),i.prototype.onPageBeforeCreate.call(this,e)},e.prototype.onPageInit=function(e){null!=this._options.domExtensionOptions&&S.ExtensionManager.applyDomExtension(this.$page,this._options.domExtensionOptions),i.prototype.onPageInit.call(this,e)},e.prototype.onPageBeforeShow=function(e,t){this._baseHeader&&this._baseHeader.activate(),i.prototype.onPageBeforeShow.call(this,e,t)},e.prototype.onPageBeforeHide=function(e,t){this._baseHeader&&this._baseHeader.inactivate(),i.prototype.onPageBeforeHide.call(this,e,t)},e.prototype.onPageRemove=function(e){this._baseHeader&&(this._baseHeader.release(),this._baseHeader=null),i.prototype.onPageRemove.call(this,e)},e.prototype.onHardwareBackButton=function(e){var t=i.prototype.onHardwareBackButton.call(this,e);return t||(t=this.onCommand(e,this._options.backCommandKind)),t},e.prototype.onCommand=function(e,t){return!(this._options.backCommandKind!==t||!this._owner||!this._owner[this._options.backCommandHandler])&&this._owner[this._options.backCommandHandler](e)},e}(C.Framework.Page),S.BasePage=O,H=e||(e={}),k=H.UI||(H.UI={}),B=H.Promise,M=function(a){function e(e,t,n){var o=a.call(this,n)||this;o._pageOptions=null,o._basePage=null,o._statusMgr=null,o._pageOptions=$.extend({},{owner:o},n),o._basePage=o._pageOptions.basePage?new o._pageOptions.basePage(e,t,o._pageOptions):new k.BasePage(e,t,o._pageOptions),o._statusMgr=new k.StatusManager;var i=!!o.events;return o.setElement(o.$page,i),o}return ue(e,a),e.prototype.statusAddRef=function(e){return this._statusMgr.statusAddRef(e)},e.prototype.statusRelease=function(e){return this._statusMgr.statusRelease(e)},e.prototype.statusScope=function(e,t){this._statusMgr.statusScope(e,t)},e.prototype.isStatusIn=function(e){return this._statusMgr.isStatusIn(e)},Object.defineProperty(e.prototype,"active",{get:function(){return this._basePage.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._basePage.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._basePage?this._basePage.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$page",{get:function(){return this._basePage.$page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$header",{get:function(){return this._basePage.$header},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$footer",{get:function(){return this._basePage.$footer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intent",{get:function(){return this._basePage.intent},set:function(e){this._basePage.intent=e},enumerable:!0,configurable:!0}),e.prototype.onOrientationChanged=function(e){this.trigger("pageview:orientation-changed",e)},e.prototype.onHardwareBackButton=function(e){return!1},e.prototype.onBeforeRouteChange=function(){return B.resolve()},e.prototype.onCommand=function(e,t){return!1},e.prototype.onInitialize=function(e){this.trigger("pageview:initialize",e)},e.prototype.onPageBeforeCreate=function(e){this.setElement(this.$page,!0),this.trigger("pageview:before-create",e)},e.prototype.onPageInit=function(e){this.trigger("pageview:page-init",e)},e.prototype.onPageBeforeShow=function(e,t){this.trigger("pageview:before-show",e,t)},e.prototype.onPageShow=function(e,t){this.trigger("pageview:show",e,t)},e.prototype.onPageBeforeHide=function(e,t){this.trigger("pageview:before-hide",e,t)},e.prototype.onPageHide=function(e,t){this.trigger("pageview:hide",e,t)},e.prototype.onPageRemove=function(e){this.trigger("pageview:remove",e),this.remove(),this.el=null,this.$el=null},e}(H.Framework.View),k.PageView=M,D=e||(e={}),R=D.UI||(D.UI={}),V=function(o){function e(e){var t=o.call(this,e)||this;if(t._owner=null,t._owner=e.owner,e.$el){var n=!!t.events;t.setElement(e.$el,n)}return t.listenTo(t._owner,"pageview:orientation-changed",t.onOrientationChanged.bind(t)),t.listenTo(t._owner,"pageview:initialize",t.onInitialize.bind(t)),t.listenTo(t._owner,"pageview:before-create",t.onPageBeforeCreate.bind(t)),t.listenTo(t._owner,"pageview:page-init",t.onPageInit.bind(t)),t.listenTo(t._owner,"pageview:before-show",t.onPageBeforeShow.bind(t)),t.listenTo(t._owner,"pageview:show",t.onPageShow.bind(t)),t.listenTo(t._owner,"pageview:before-hide",t.onPageBeforeHide.bind(t)),t.listenTo(t._owner,"pageview:hide",t.onPageHide.bind(t)),t.listenTo(t._owner,"pageview:remove",t.onPageRemove.bind(t)),t}return ue(e,o),Object.defineProperty(e.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),e.prototype.onOrientationChanged=function(e){},e.prototype.onInitialize=function(e){},e.prototype.onPageBeforeCreate=function(e){},e.prototype.onPageInit=function(e){},e.prototype.onPageBeforeShow=function(e,t){},e.prototype.onPageShow=function(e,t){},e.prototype.onPageBeforeHide=function(e,t){},e.prototype.onPageHide=function(e,t){},e.prototype.onPageRemove=function(e){this.stopListening()},e}(D.Framework.View),R.PageContainerView=V,function(r){var s,e,l="[CDP.UI.TabHostView] ";(e=s||(s={})).TABVIEW_CLASS="ui-tabview",e.TABVIEW_SELECTOR="."+e.TABVIEW_CLASS,e.TABHOST_CLASS="ui-tabhost",e.TABHOST_SELECTOR="."+e.TABHOST_CLASS,e.TABHOST_REFRESH_COEFF=1,e.TABHOST_REFRESH_INTERVAL=200;var t=function(a){function n(e){var n=a.call(this,e)||this;if(n._tabs=[],n._activeTabIndex=0,n._flipsnap=null,n._flipEndEventHandler=null,n._flipMoveEventHandler=null,n._flipDeltaCache=0,n._scrollEndEventHandler=null,n._scrollMoveEventHandler=null,(n._refreshTimerId=null)==r.global.Flipsnap)return console.error(l+"flipsnap module doesn't load."),n;n._settings=$.extend({tabContexts:[],tabMoveHandler:function(e){},tabStopHandler:function(e,t){}},e),n._flipEndEventHandler=function(e){var t=e.originalEvent;n._flipDeltaCache=0,n.onTabChanged(t.newPoint,t.moved)},n._flipMoveEventHandler=function(e){var t=e.originalEvent;n._flipDeltaCache+=t.delta,!n._settings.enableBounce&&(-1===t.direction&&0===n._activeTabIndex&&0<n._flipDeltaCache||1===t.direction&&n._activeTabIndex===n._tabs.length-1&&n._flipDeltaCache<0)?(e.preventDefault(),n._flipsnap.moveToPoint(t.newPoint)):(n.onTabMoving(t.delta),n._tabs.forEach(function(e){e.onTabScrolling(n._activeTabIndex,t.delta)}),n.preprocess(n._activeTabIndex))},n._scrollEndEventHandler=function(e){n.onScrollStop()},n._scrollMoveEventHandler=function(e){n.onScroll()},n._settings.initialWidth&&n.$el.width(n._settings.initialWidth),n._settings.initialHeight&&n.$el.height(n._settings.initialHeight);var t=n._settings.initialWidth,o=n.$el.height(),i=n._settings.tabContexts.slice();return 0<i.length?i.forEach(function(e){new e.ctor($.extend({initialHeight:o},e.options,{host:n,delayRegister:!1}))}):n.onTabViewSetupRequest(o),n._settings.initImmediate&&n.initializeTabViews(),n.setFlipsnapCondition($.extend({},{distance:t},n._settings)),n.setActiveTab(n._activeTabIndex,0,!0),n}return ue(n,a),n.prototype.initializeTabViews=function(){var n=this,o=this.$el.find(s.TABVIEW_SELECTOR);this._tabs.forEach(function(e,t){e.onInitialize(n,$(o[t]))})},n.prototype.destroy=function(){this.resetFlipsnapCondition(),this._tabs.forEach(function(e){e.onDestroy()}),this._tabs=[]},n.prototype.getBaseHeight=function(){return this.$el.height()},n.prototype.registerTabView=function(e){null==this.getTabIndexOf(e)?this._tabs.push(e):console.warn(l+"tab instance already registered.")},n.prototype.getTabIndexOf=function(e){for(var t=0,n=this._tabs.length;t<n;t++)if(e===this._tabs[t])return t;return null},n.prototype.resetTabPosition=function(){this._tabs.forEach(function(e){e.scrollTo(0,!1,0),e.refresh()}),this.setActiveTab(0,0,!0)},n.prototype.onTabViewSetupRequest=function(e){},n.prototype.setActiveTab=function(e,t,n){var o=this;if(this.validTab(e)&&(n||this._activeTabIndex!==e)){this.preprocess(e);var i=this._activeTabIndex;this._activeTabIndex=e,this._flipsnap.moveToPoint(this._activeTabIndex,t);var a=function(){o.postprocess(i),o.onTabChanged(o._activeTabIndex,!1)};return 0===(t=t||parseInt(this._flipsnap.transitionDuration,10))?a():setTimeout(function(){a()},t*s.TABHOST_REFRESH_COEFF),!0}return!1},n.prototype.getTabCount=function(){return this._tabs.length},n.prototype.getActiveTabIndex=function(){return this._activeTabIndex},n.prototype.getSwipeDelta=function(){return this._flipDeltaCache},n.prototype.onTabMoving=function(e){this.trigger(n.EVENT_TAB_MOVE,e)},n.prototype.onTabChanged=function(e,t){t&&this.setActiveTab(e),this.trigger(n.EVENT_TAB_STOP,e,t)},n.prototype.getScrollPos=function(){return this._activeTabView?this._activeTabView.getScrollPos():0},n.prototype.getScrollPosMax=function(){return this._activeTabView?this._activeTabView.getScrollPosMax():0},n.prototype.scrollTo=function(e,t,n){this._activeTabView&&this._activeTabView.scrollTo(e,t,n)},n.prototype.onScroll=function(){this.trigger(n.EVENT_SCROLL_MOVE)},n.prototype.onScrollStop=function(){this.trigger(n.EVENT_SCROLL_STOP)},n.prototype.setScrollHandler=function(e,t){this._activeTabView&&this._activeTabView.setScrollHandler(e,t)},n.prototype.setScrollStopHandler=function(e,t){this._activeTabView&&this._activeTabView.setScrollStopHandler(e,t)},n.prototype.onOrientationChanged=function(t){var e=this;if(a.prototype.onOrientationChanged.call(this,t),this._tabs.forEach(function(e){e.onOrientationChanged(t)}),null!=this._refreshTimerId&&clearTimeout(this._refreshTimerId),this._flipsnap&&0<this._tabs.length){var n=function(){e._flipsnap&&e._flipsnap._maxPoint!==e._tabs.length-1?(e._flipsnap.refresh(),e._refreshTimerId=setTimeout(n,s.TABHOST_REFRESH_INTERVAL)):e._refreshTimerId=null};this._flipsnap.refresh(),this._refreshTimerId=setTimeout(n,s.TABHOST_REFRESH_INTERVAL)}},n.prototype.onPageShow=function(e,t){a.prototype.onPageShow.call(this,e,t),this.rebuild()},n.prototype.rebuild=function(){this._tabs.forEach(function(e){e.needRebuild&&(e.rebuild(),e.needRebuild=!1)})},n.prototype.setFlipsnapCondition=function(e){this._flipsnap=r.global.Flipsnap(s.TABHOST_SELECTOR,e),$(this._flipsnap.element).on("fstouchend",this._flipEndEventHandler.bind(this)),$(this._flipsnap.element).on("fstouchmove",this._flipMoveEventHandler.bind(this))},n.prototype.resetFlipsnapCondition=function(){this._flipsnap&&($(this._flipsnap.element).off("fstouchmove",this._flipMoveEventHandler.bind(this)),$(this._flipsnap.element).off("fstouchend",this._flipEndEventHandler.bind(this)),this._flipsnap.destroy(),this._flipsnap=null),this._flipDeltaCache=0},n.prototype.preprocess=function(n){var o=this;this._tabs.forEach(function(e,t){t!==o._activeTabIndex&&e.treatScrollPosition(),(o._activeTabIndex<n&&o._activeTabIndex<t&&t<=n||n<o._activeTabIndex&&n<=t&&t<o._activeTabIndex)&&e.$el.css("visibility","visible")})},n.prototype.postprocess=function(o){var i=this;this._tabs.forEach(function(e,t){if(null!=i._settings.inactiveVisibleTabDistance){var n=i._settings.inactiveVisibleTabDistance;i._activeTabIndex-n<=t&&t<=i._activeTabIndex+n?(e.$el.css("visibility","visible"),e.onVisibilityChanged(!0)):(e.$el.css("visibility","hidden"),e.onVisibilityChanged(!1))}t===i._activeTabIndex?(e.onTabSelected(),e.setScrollHandler(i._scrollMoveEventHandler,!0),e.setScrollStopHandler(i._scrollEndEventHandler,!0)):t===o&&(e.setScrollHandler(i._scrollMoveEventHandler,!1),e.setScrollStopHandler(i._scrollEndEventHandler,!1),e.onTabReleased())})},n.prototype.validTab=function(e){return 0!==this._tabs.length&&(0<=e&&e<this._tabs.length||(console.error(l+"invalid tab index. index: "+e),!1))},Object.defineProperty(n.prototype,"_activeTabView",{get:function(){return this._tabs[this._activeTabIndex]},enumerable:!0,configurable:!0}),n.EVENT_SCROLL_MOVE="tabhost:scrollmove",n.EVENT_SCROLL_STOP="tabhost:scrollstop",n.EVENT_TAB_MOVE="tabhost:tabmove",n.EVENT_TAB_STOP="tabhost:tavstop",n}(r.PageContainerView);r.TabHostView=t}((U=e||(e={})).UI||(U.UI={})),A=e||(e={}),L=A.UI||(A.UI={}),N=1,j=function(n){function e(e){var t=n.call(this,$.extend({},{initialHeight:N},e))||this;return t._host=null,t._needRebuild=!1,t._host=e.host,e.delayRegister||t._host.registerTabView(t),t}return ue(e,n),Object.defineProperty(e.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needRebuild",{get:function(){return this._needRebuild},set:function(e){this._needRebuild=e},enumerable:!0,configurable:!0}),e.prototype.treatScrollPosition=function(){this.core.treatScrollPosition()},e.prototype.onInitialize=function(e,t){this._host=e,this.core.initialize(t,e.getBaseHeight()),Backbone.View.prototype.setElement.call(this,t,!0)},e.prototype.onDestroy=function(){this.remove(),this._host=null},e.prototype.onVisibilityChanged=function(e){},e.prototype.onTabSelected=function(){this.core.setActiveState(!0)},e.prototype.onTabReleased=function(){this.core.setActiveState(!1)},e.prototype.onTabScrolling=function(e,t){},e.prototype.onOrientationChanged=function(e){},Object.defineProperty(e.prototype,"core",{get:function(){return this._scrollMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return null==this._tabIndex&&(this._tabIndex=this._host.getTabIndexOf(this)),this._tabIndex},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){return this.tabIndex===this._host.getActiveTabIndex()},e}(L.ListView),L.TabView=j,F=e||(e={}),K=F.UI||(F.UI={}),z=function(i){function e(e,t,n){var o=i.call(this,e,t,$.extend({},{autoDestoryElement:!1},n))||this;return o._scrollMgr=null,o._needRebuild=!1,o._scrollMgr=new K.ScrollManager(n),o}return ue(e,i),e.prototype.reserveRebuild=function(){this._needRebuild=!0},e.prototype.onOrientationChanged=function(e){this._scrollMgr.setBaseHeight(this.getPageBaseHeight())},e.prototype.onBeforeRouteChange=function(){return this._pageOptions.autoDestoryElement&&this._scrollMgr.destroy(),i.prototype.onBeforeRouteChange.call(this)},e.prototype.onPageBeforeShow=function(e,t){i.prototype.onPageBeforeShow.call(this,e,t),this._scrollMgr.initialize(this.$page,this.getPageBaseHeight())},e.prototype.onPageShow=function(e,t){i.prototype.onPageShow.call(this,e,t),this._scrollMgr.setBaseHeight(this.getPageBaseHeight()),this._needRebuild&&(this.rebuild(),this._needRebuild=!1)},e.prototype.onPageRemove=function(e){i.prototype.onPageRemove.call(this,e),this.release()},e.prototype.isInitialized=function(){return this._scrollMgr.isInitialized()},e.prototype.addItem=function(e,t,n,o){this._addLine(new K.LineProfile(this._scrollMgr,Math.floor(e),t,n),o)},e.prototype.removeItem=function(e,t,n){this._scrollMgr.removeItem(e,t,n)},e.prototype.getItemInfo=function(e){return this._scrollMgr.getItemInfo(e)},e.prototype.refresh=function(){this._scrollMgr.refresh()},e.prototype.update=function(){this._scrollMgr.update()},e.prototype.rebuild=function(){this._scrollMgr.rebuild()},e.prototype.release=function(){this._scrollMgr.release()},e.prototype.backup=function(e){return this._scrollMgr.backup(e)},e.prototype.restore=function(e,t){void 0===t&&(t=!0);var n=this._scrollMgr.restore(e,t);return n&&!t&&this.reserveRebuild(),n},e.prototype.hasBackup=function(e){return this._scrollMgr.hasBackup(e)},e.prototype.clearBackup=function(e){return this._scrollMgr.clearBackup(e)},Object.defineProperty(e.prototype,"backupData",{get:function(){return this._scrollMgr.backupData},enumerable:!0,configurable:!0}),e.prototype.setScrollHandler=function(e,t){this._scrollMgr.setScrollHandler(e,t)},e.prototype.setScrollStopHandler=function(e,t){this._scrollMgr.setScrollStopHandler(e,t)},e.prototype.getScrollPos=function(){return this._scrollMgr.getScrollPos()},e.prototype.getScrollPosMax=function(){return this._scrollMgr.getScrollPosMax()},e.prototype.scrollTo=function(e,t,n){this._scrollMgr.scrollTo(e,t,n)},e.prototype.ensureVisible=function(e,t){this._scrollMgr.ensureVisible(e,t)},Object.defineProperty(e.prototype,"core",{get:function(){return this._scrollMgr},enumerable:!0,configurable:!0}),e.prototype._addLine=function(e,t){this._scrollMgr._addLine(e,t)},e.prototype.getPageBaseHeight=function(){return $(window).height()-parseInt(this.$page.css("padding-top"),10)},e}(K.PageView),K.PageListView=z,X=e||(e={}),G=X.UI||(X.UI={}),Y=function(i){function e(e,t,n){var o=i.call(this,e,t,n)||this;return o._expandManager=null,o._expandManager=new G.ExpandManager(o),o}return ue(e,i),e.prototype.newGroup=function(e){return this._expandManager.newGroup(e)},e.prototype.getGroup=function(e){return this._expandManager.getGroup(e)},e.prototype.registerTopGroup=function(e){this._expandManager.registerTopGroup(e)},e.prototype.getTopGroups=function(){return this._expandManager.getTopGroups()},e.prototype.expandAll=function(){this._expandManager.expandAll()},e.prototype.collapseAll=function(e){this._expandManager.collapseAll(e)},e.prototype.isExpanding=function(){return this._expandManager.isExpanding()},e.prototype.isCollapsing=function(){return this._expandManager.isCollapsing()},e.prototype.isSwitching=function(){return this._expandManager.isSwitching()},Object.defineProperty(e.prototype,"layoutKey",{get:function(){return this._expandManager.layoutKey},set:function(e){this._expandManager.layoutKey=e},enumerable:!0,configurable:!0}),e.prototype.release=function(){i.prototype.release.call(this),this._expandManager.release()},e.prototype.backup=function(e){return this._expandManager.backup(e)},e.prototype.restore=function(e,t){return void 0===t&&(t=!0),this._expandManager.restore(e,t)},e}(G.PageListView),G.PageExpandableListView=Y,q=e||(e={}),(W=q.UI||(q.UI={})).Extension||(W.Extension={}),J=q.Framework,$.fn.ripple=function(e){var t=$(this);return t.length<=0?t:t.on(J.Patch.s_vclickEvent,function(e){var t=$(this);0===t.find(".ui-ripple-ink").length&&t.prepend("<div class='ui-ripple-ink'></div>");var n=t.find(".ui-ripple-ink");if(n.removeClass("ui-ripple-animate"),!n.height()&&!n.width()){var o=Math.max(t.outerWidth(),t.outerHeight());n.css({height:o,width:o})}var i=e.pageX-t.offset().left-n.width()/2,a=e.pageY-t.offset().top-n.height()/2,r=t.data("ripple-color");n.on("animationend webkitAnimationEnd",function(e){n.off(),n.removeClass("ui-ripple-animate"),n=null}),n.css({top:a+"px",left:i+"px",background:r}).addClass("ui-ripple-animate")})},W.ExtensionManager.registerDomExtension(function(e,n){var o=[".ui-ripple-none",".ui-flipswitch-on",".ui-slider-handle",".ui-input-clear"],t=".ui-btn";return e.hasClass("ui-page")&&(t=".ui-content .ui-btn"),e.find(t).filter(function(e,t){return!$(t).is(o.join(","))}).addClass("ui-ripple"),e.find(".ui-ripple").each(function(e,t){$(t).ripple(n)}),e}),Q=e||(e={}),function(e){var a,r=Q.Tools.Template;function s(e){for(var t,n=["-webkit-",""],o=function(e){return e&&"none"!==e},i=0,a=n.length;i<a;i++){if(!o(t)&&o(t=e.css(n[i]+"mask-image"))){var r=t.match(/(url\(data:image\/svg\+xml;)([\s\S]*)?(base64,[\s\S]*\))/);t=r?r[1]+"bust="+Date.now().toString(36)+";"+r[3]:null}o(t)&&e.css(n[i]+"mask-image",t)}return e}$.fn.spinner=function(e){return"string"==typeof e?s($(this)):function(e,t){if(e.length<=0)return e;a||(a=r.getJST('\n                <script type="text/template">\n                    <span class="ui-spinner-base">\n                        <span class="ui-spinner-inner">\n                            <span class="ui-spinner-inner-gap" {{borderTop}}></span>\n                            <span class="ui-spinner-inner-left">\n                                <span class="ui-spinner-inner-half-circle" {{border}}></span>\n                            </span>\n                            <span class="ui-spinner-inner-right">\n                                <span class="ui-spinner-inner-half-circle" {{border}}></span>\n                            </span>\n                        </span>\n                    </span>\n                <\/script>\n            '));var n,o=e.data("spinner-color"),i=null;return o&&(e.css({"background-color":o}),i={borderTop:"style=border-top-color:"+(n=o)+";",border:"style=border-color:"+n+";"}),e.append(a(i)),s(e)}($(this))},Z.ExtensionManager.registerDomExtension(function(e,n){return e.find(".ui-spinner, .ui-icon-loading").each(function(e,t){$(t).spinner(n)}),e})}((Z=Q.UI||(Q.UI={})).Extension||(Z.Extension={})),ee=e||(e={}),(te=ee.UI||(ee.UI={})).Extension||(te.Extension={}),te.ExtensionManager.registerDomExtension(function(a,e){var r=function(e,t){var n=$(e);t?n.addClass("ui-float-label-floating"):n.removeClass("ui-float-label-floating")};return a.find("label.ui-float-label, .ui-float-label label").each(function(e,t){var n,o,i;n=t,o=$(n).attr("for"),"search"===(i=a.find("#"+o)).jqmData("type")&&$(n).addClass("ui-float-label-has-icon"),r(n,!!i.val()),i.on("keyup change input focus blur cut paste",function(e){r(n,!!$(e.target).val())})}),a}),ne=e||(e={}),(oe=ne.UI||(ne.UI={})).Extension||(oe.Extension={}),ie=ne.Framework,oe.ExtensionManager.registerDomExtension(function(e,t){var i=function(){return e.find(".ui-flipswitch")},a=function(e){var t=e.find("input");if(t.length)return t;var n=e.find("select");return n.length?n:null},r=function(e,t){e&&("INPUT"===e[0].nodeName?e.prop("checked",t).flipswitch("refresh"):"SELECT"===e[0].nodeName&&e.val(t?"on":"off").flipswitch("refresh"))};return i().on("vclick _change_flipswich",function(e){var t=$(e.currentTarget),n=$(e.target),o=a(t),i=!t.hasClass("ui-flipswitch-active");n.hasClass("ui-flipswitch-input")?r(o,i):n.hasClass("ui-flipswitch-on")&&ie.Platform.Mobile&&ie.Patch.isSupportedVclick()&&(r(o,i),e.preventDefault())}).each(function(e,t){(function(e){var t=a(e);if(t){var n=t[0].labels;if(n)return $(n)}return $()})($(t)).on("vclick",function(e){var t,n,o=(t=$(e.target),n=t.attr("for"),i().find("[name='"+n+"']"));o.parent().hasClass("ui-state-disabled")||o.trigger("_change_flipswich"),e.preventDefault()})}),e}),ae=e||(e={}),(re=ae.UI||(ae.UI={})).Extension||(re.Extension={}),re.ExtensionManager.registerDomExtension(function(e,t){return e.find(".ui-slider-input").on("slidestop",function(e){$(e.currentTarget).parent().find(".ui-slider-handle").blur()}),e}),se=e||(e={}),(le=se.UI||(se.UI={})).Extension||(le.Extension={}),pe=!(ce=function(e){var t,n=e.target,o=e;null!=n.clientX&&null!=n.clientY||(null!=o.pageX&&null!=o.pageY?(n.clientX=o.pageX,n.clientY=o.pageY):o.changedTouches&&o.changedTouches[0]&&(n.clientX=o.changedTouches[0].pageX,n.clientY=o.changedTouches[0].pageY)),/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||((t=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,o.view,1,n.screenX,n.screenY,n.clientX,n.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,0,null),t._constructed=!0,n.dispatchEvent(t))}),le.ExtensionManager.registerDomExtension(function(e,t){return!pe&&le.global.IScroll&&le.global.IScroll.utils&&(le.global.IScroll.utils.click=ce,pe=!0),e}),e.UI});
//# sourceMappingURL=cdp.ui.jqm.min.js.map